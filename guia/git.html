<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GIT - CONTROL DE VERSIONES | Knowledge DB</title>
    <meta name="description" content="Página de documentación propia sobre tecnologías de programación.">
    
    
    <link rel="preload" href="/assets/css/0.styles.ca4446b2.css" as="style"><link rel="preload" href="/assets/js/app.0b9b09ce.js" as="script"><link rel="preload" href="/assets/js/2.667ce541.js" as="script"><link rel="preload" href="/assets/js/9.61cbd835.js" as="script"><link rel="prefetch" href="/assets/js/10.493b9ff0.js"><link rel="prefetch" href="/assets/js/11.3ae244ca.js"><link rel="prefetch" href="/assets/js/12.92a30e99.js"><link rel="prefetch" href="/assets/js/3.9bc89753.js"><link rel="prefetch" href="/assets/js/4.aabef137.js"><link rel="prefetch" href="/assets/js/5.4aa78a6e.js"><link rel="prefetch" href="/assets/js/6.cbaab3ed.js"><link rel="prefetch" href="/assets/js/7.4d4564eb.js"><link rel="prefetch" href="/assets/js/8.ba9b719f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca4446b2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Knowledge DB" class="logo"> <span class="site-name can-hide">Knowledge DB</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu documentación" class="dropdown-title"><span class="title">Guía</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guia/css.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/guia/git.html" class="nav-link router-link-exact-active router-link-active">Git</a></li><li class="dropdown-item"><!----> <a href="/guia/markdown.html" class="nav-link">Markdown</a></li><li class="dropdown-item"><!----> <a href="/guia/typescript.html" class="nav-link">Typescript</a></li></ul></div></div><div class="nav-item"><a href="https://google.es" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu documentación" class="dropdown-title"><span class="title">Guía</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guia/css.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/guia/git.html" class="nav-link router-link-exact-active router-link-active">Git</a></li><li class="dropdown-item"><!----> <a href="/guia/markdown.html" class="nav-link">Markdown</a></li><li class="dropdown-item"><!----> <a href="/guia/typescript.html" class="nav-link">Typescript</a></li></ul></div></div><div class="nav-item"><a href="https://google.es" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><a href="/guia/" class="sidebar-link">Presentación</a></li><li><a href="/guia/css.html" class="sidebar-link">CSS</a></li><li><a href="/guia/git.html" class="active sidebar-link">GIT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guia/git.html#confirguracion-del-proyecto" class="sidebar-link">Confirguración del proyecto</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#zonas-estados-de-git" class="sidebar-link">Zonas / Estados de GIT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guia/git.html#working-directory" class="sidebar-link">Working directory</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#staging-area" class="sidebar-link">Staging area</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#repository" class="sidebar-link">Repository</a></li></ul></li><li class="sidebar-sub-header"><a href="/guia/git.html#comando-basicos-de-git" class="sidebar-link">Comando básicos de GIT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guia/git.html#git-init" class="sidebar-link">git init</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-status" class="sidebar-link">git status</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-add" class="sidebar-link">git add</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-commit" class="sidebar-link">git commit</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-log" class="sidebar-link">git log</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-stash" class="sidebar-link">git stash</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#alias" class="sidebar-link">Alias</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-checkout" class="sidebar-link">git checkout</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-diff" class="sidebar-link">git diff</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-branch" class="sidebar-link">git branch</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-merge" class="sidebar-link">git merge</a></li></ul></li><li class="sidebar-sub-header"><a href="/guia/git.html#trabajar-con-repositorio-remoto" class="sidebar-link">Trabajar con repositorio remoto</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guia/git.html#git-remote" class="sidebar-link">git remote</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-clone" class="sidebar-link">git clone</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-push" class="sidebar-link">git push</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-fetch" class="sidebar-link">git fetch</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-pull" class="sidebar-link">git pull</a></li></ul></li><li class="sidebar-sub-header"><a href="/guia/git.html#deshaciendo-cambios" class="sidebar-link">Deshaciendo cambios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guia/git.html#git-commit-amend" class="sidebar-link">git commit --amend</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-checkout-file" class="sidebar-link">git checkout -- file</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-reset" class="sidebar-link">git reset</a></li><li class="sidebar-sub-header"><a href="/guia/git.html#git-revert" class="sidebar-link">git revert</a></li></ul></li><li class="sidebar-sub-header"><a href="/guia/git.html#rehaciendo-la-historia" class="sidebar-link">Rehaciendo la historia</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guia/git.html#git-rebase" class="sidebar-link">git rebase</a></li></ul></li></ul></li><li><a href="/guia/markdown.html" class="sidebar-link">MARKDWON</a></li><li><a href="/guia/typescript.html" class="sidebar-link">TYPESCRIPT</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-control-de-versiones"><a href="#git-control-de-versiones" class="header-anchor">#</a> GIT - CONTROL DE VERSIONES</h1> <h2 id="confirguracion-del-proyecto"><a href="#confirguracion-del-proyecto" class="header-anchor">#</a> Confirguración del proyecto</h2> <p>Al hacer el primer <code>git commit</code> nos solicitará nuestras credenciales si no lo hemos configurado anteriormente con los siguientes comandos:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> config --global user.email <span class="token string">&quot;email@example.com&quot;</span>
<span class="token function">git</span> config --global user.name <span class="token string">&quot;Your name&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>En todos los proyectos habrá carpetas y/o archivos que queramos que <em>GIT</em> ignore, tales como archivos de pruebas o de configuración no necesarios en el proyecto final, o carpetas como <em>node_modules</em>, etc.</p> <p>Para ello, creamos un archivo llamado <code>.gitignore</code>, y en el incluimos los nombres de las carpetas (no llevan extensión) y de los archivos que queramos ignorar. Es decir, <code>git estatus</code> no nos notificará nada a cerca de ellos. El propio archivo <code>.gitignore</code> sí debemos incluirlo con <code>git add .gitignore</code>.</p> <p>Este archivo podría tener una información parecida a esta:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>node_modules
prueba
texto.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="zonas-estados-de-git"><a href="#zonas-estados-de-git" class="header-anchor">#</a> Zonas / Estados de GIT</h2> <h3 id="working-directory"><a href="#working-directory" class="header-anchor">#</a> Working directory</h3> <p>Es la carpeta de trabajo que estará controlando <strong>git</strong> y donde tendremos los archivos del proyecto.</p> <h3 id="staging-area"><a href="#staging-area" class="header-anchor">#</a> Staging area</h3> <p>Es la carpeta donde se añaden los archivos que estarán preparados para hacer un guardado (<em>commit</em>). Esto se hace con el comando <code>git add</code>.</p> <h3 id="repository"><a href="#repository" class="header-anchor">#</a> Repository</h3> <p>Es la carpeta donde se guardan definitivamente los archivos que se encontraban en el <em><strong>staging area</strong></em> cuando hacemos un guardado o <code>git commit</code></p> <h2 id="comando-basicos-de-git"><a href="#comando-basicos-de-git" class="header-anchor">#</a> Comando básicos de GIT</h2> <h3 id="git-init"><a href="#git-init" class="header-anchor">#</a> git init</h3> <p>El comando para iniciar el control de versiones es <code>git init</code>. Con esto le decimos a git que comience a contrar las versiones del proyecto. Podremos ver que se ha creado la carpeta <code>.git</code>. Esta carpeta es <strong>oculta</strong>.</p> <h3 id="git-status"><a href="#git-status" class="header-anchor">#</a> git status</h3> <p>El comando <code>git status</code> nos da información del estado de los archivos en sus diferentes estados. Si se han agregado al <em>staging area</em> o si están pendientes de ser agregados.</p> <h3 id="git-add"><a href="#git-add" class="header-anchor">#</a> git add</h3> <p>Con este comando añadimos los archivos deseados desde el <em>working area</em> al <em>staging area</em>. Para añadir por un archivo concreto utilizamos <code>git add index.html</code>. Tras utilizar este comando podemos <code>git status</code> para ver que este archivo ya se encuentra preparados para enviar al repositorio con el comando <code>git commit</code>.</p> <p>Para evitar estar añadiendo archivos uno a uno podemos utilizar el comando <code>git add .</code> para añadir todos los archivos del proyecto. Se ignoran las carpetas vacías.</p> <h3 id="git-commit"><a href="#git-commit" class="header-anchor">#</a> git commit</h3> <p>Cuando se ejecuta <code>git commit</code> se hace un guardado de los archivos que estaban en el <em>staging area</em> al repositorio. Ahora tenemos una <em>fotografía</em> del estado de todos los archivos en un momento concreto. Los <em>commits</em> se guardan con un código SHA (Secure Hash Algorithm) y podemos volver a ellos en cualquier momento ya que se identifican con dicho <em>hash</em>.</p> <p>Al hacer un <code>git commit</code> habrirá un editor de código para introducir el mensaje que acompaña a cada <em>commit</em>. Para evitarlo podemos escribir el comando incluyendo directamente el mensaje. A saber:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> commit -m <span class="token string">&quot;Este es el mensaje para este commit&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Tras un <em>commit</em> el <em>staging area</em> queda vacía y si hacemos un <code>git status</code> nos indicará <em>Nothing to commit: working tree clean</em>. Y volvemos a empezar a añadir archivos con <code>git add</code> al <em>staging area</em> hasta hacer un nuevo <em>commit</em>.</p> <p>Hay que tener en cuenta que si yo modifico el archivo <em>index.html</em> y hago un <code>git add index.html</code> y luego vuelvo a cambiar algo en <em>index.html</em>, al hacer un <em>commit</em> se guardará la primera modificación ya que los archivos modificados deben ser preparados en el <em>staging area</em> con el comando <em>add</em>.</p> <p>Este paso podemos acortarlo añadiendo el modificador <code>-a</code> al comando de guardado. Es decir:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> commit -a -m &quot;Hago un commit añadiendo los archivos modificados sin tener que hacer <span class="token function">git</span> <span class="token function">add</span> previamente.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Se ha de tener en cuenta que los archivos que no hayan sido TRACKED hasta el momento, no se incluyen con este shortcut. Habría que hacer antes <code>git add .</code> para que se incluyan.</p> <p>Si hacemos un <em>commit</em> y nos percatamos de que falta alguna cosa, queremos modificar el mensaje o no hemos introducido algún archivo (debemos utilizar previamente <code>git add file.ext</code> o <code>git add .</code> si lo queremos meter todo lo modificado) podemos volver momentáneamente atrás con <code>git commit --amend</code>. Concretamente lo que hace es añadir las modificaciones que queramos añadir sin hacer un nuevo commit (cambia el hash ya que es uno nuevo que <em>sustituye</em> al anterior). SOLO SIRVE con el último commit realizado.</p> <h3 id="git-log"><a href="#git-log" class="header-anchor">#</a> git log</h3> <p>Con este comando obtenemos un resumen de los <em>commits</em> realizados hasta el momento. En el listado aparecen con sus códigos SHA y podemos gestionarlos identificándolos con dicho <em>hash</em>. El <em>commit</em> que indica <code>(HEAD -&gt; master)</code> es el <em>commit</em> actual en la rama que estemos. En este caso estamos en la principal (<em>Master</em>).</p> <p>Si existen muchos <em>commits</em> y queremos limitarlos podemos introudcir el modificador <code>--since</code>, <code>--before</code> o <code>--after</code> con la fecha para limitar la lista de salida <code>-5</code> para listar los últimos 5. El siguiente ejemplo lista desde el 2008/10/01 al 2008/11/01. Veamos:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> log --since<span class="token operator">=</span><span class="token string">&quot;2008-10-01&quot;</span> --before<span class="token operator">=</span><span class="token string">&quot;2008-11-01&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>También hay flags útiles como:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> log --oneline --decorate --graph
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>El modificador <code>--all</code> muestra los <em>commit</em> de todas las ramas. Por defecto (sin --all) muestra los de la rama activa.</p> <h3 id="git-stash"><a href="#git-stash" class="header-anchor">#</a> git stash</h3> <p>Este comando tiene cierta complejidad. Este <a href="https://git-scm.com/book/es/v1/Las-herramientas-de-Git-Guardado-r%C3%A1pido-provisional" target="_blank" rel="noopener noreferrer">enlace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> contine una explicación más detallada.</p> <p>Según se está trabajando en un apartado de un proyecto, normalmente el espacio de trabajo suele estar en un estado inconsistente. Pero puede que se necesite cambiar de rama durante un breve tiempo para ponerse a trabajar en algún otro tema urgente. Esto plantea el problema de confirmar cambios en un trabajo medio hecho, simplemente para poder volver a ese punto más tarde. Y su solución es el comando 'git stash'.</p> <p>Este comando de guardado rápido (stashing) toma el estado del espacio de trabajo, con todas las modificaciones en los archivos bajo control de cambios, y lo guarda en una pila provisional. Desde allí, se podrán recuperar posteriormente y volverlas a aplicar de nuevo sobre el espacio de trabajo.</p> <p>Lo más básico es hacer <code>git stash</code> y los trabajos pendientes se guardan en una pila de donde más tarde se puede recuperar el estado anterior con <code>git stash apply</code>.</p> <p>Las modificaciones sobre los archivos serán aplicadas; pero no así el estado de preparación. Para conseguir esto último, es necesario ejecutar <code>git stash --index</code>. Con ello se le indica que debe intentar reaplicar también el estado de preparación de los archivos. Y asi se puede conseguir volver exactamente al punto original. Luego habría que hacer un <code>git stash drop stash@{0}</code> donde 0 es el índice que aparece en <code>git stash list</code>.</p> <p>También es posible utilizar el comando git stash pop, que aplica cambios de un guardado y lo retira inmediatamente de la pila.</p> <h3 id="alias"><a href="#alias" class="header-anchor">#</a> Alias</h3> <p>Podemos crear un alias para un comando, con o sin modificadores, que utilicemos a menudo para escribir menos. Por ejemplo:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> config --global alias.co checkout
<span class="token function">git</span> config --global alias.br branch
<span class="token function">git</span> config --global alias.ci commit
<span class="token function">git</span> config --global alias.st status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Uno muy útil sería:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> config --global alias.lod <span class="token string">'log --oneline --decorate'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Podemos usar el alias añadiendo otros modificacdores ya que lo único que hace un alias es cambiar el nombre corto por el comando completo. Ver la segunda línea</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> lod --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Para eliminar un <em>alias</em> ejecutaríamos el siguiente comando:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> config --global --unset alias.co
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="git-checkout"><a href="#git-checkout" class="header-anchor">#</a> git checkout</h3> <p>Con este comando se puede cambiar el estado actual de los archivos del <em>working directory</em> por el <em><strong>capturado</strong></em> en cualquier <em>commit</em> que se haya hecho.</p> <p>Por ejemplo, si modificamos el archivo <code>index.html</code> y ejecutamos el comando <code>git checkout -- index.html</code>, revertiremos los cambios efectuados en este archivo volviendo a la copia guardada en el último <em>commmit</em>. Siempre que no esté en el <em>staging area</em>. Si es el caso, primero tenemos que hacer un <em>unstage</em> del archivo utilizando el comando: <code>git reset HEAD file</code>. Ahora estará en el <em>working directory</em> y prodermos deshacer los cambios con <code>git checkout -- file</code>.</p> <p>Con <code>git checkout rama</code> podemos movernos a la rama cuyo nombre hemos indicado (sustituir rama por el nombre real).</p> <h3 id="git-diff"><a href="#git-diff" class="header-anchor">#</a> git diff</h3> <p>Con el comando <code>git diff file.ext</code> podemos ver las diferencias entre el archivo guardado en el último <em>commit</em> y el archivo actual. Mostrará un listado con las líneas eliminadas (con el signo -) y las filas añadidas (con el signo +).</p> <p>También podemos ver las diferencias entre dos commits utilizando sus hashes o <code>git diff HEAD~1 HEAD</code> para ver las diferencias entre el último y el penúltimo.</p> <h3 id="git-branch"><a href="#git-branch" class="header-anchor">#</a> git branch</h3> <p>Para la creación de ramas en el proyecto utilizamos <code>git branch rama</code>, donde rama es el nombre que se le da a la variación de la rama principal (master). Con <code>git branch</code> obtenmos un listado de las ramas existentes y resaltada tendremos la rama en la que estamos actualmente. Esto nos permite tener versiones alternativas de nuestro código y, en su caso, fusionarla finalmente con la rama <em>master</em> si hemos comprobado que los cambios son correctos y y queremos finalmente volverlos definitivos.</p> <p>También existe un atajo para crear una rama y cambiarnos a ella directamente. Se hace con el siguiente comando: <code>git checkout -b nombre_rama</code>.</p> <h3 id="git-merge"><a href="#git-merge" class="header-anchor">#</a> git merge</h3> <p>El comando <code>git merge</code> sirve para fusionar dos ramas. Normalmente una paralela con la master. En primer lugar tienes que situarte en la rama que va a &quot;absorver&quot; a la otra rama (normalmente la rama master).</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> checkout master // Nos colocalmos en la rama master
<span class="token function">git</span> merge nombre_rama // Nos traemos los cambios de la rama nombre_rama a master.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Para ver más opciones del comando tendremos que revisar la documentación oficial.</p> <h2 id="trabajar-con-repositorio-remoto"><a href="#trabajar-con-repositorio-remoto" class="header-anchor">#</a> Trabajar con repositorio remoto</h2> <h3 id="git-remote"><a href="#git-remote" class="header-anchor">#</a> git remote</h3> <p>Ha llegado el momento de compartir nuestros archivos con un repositorio en remoto (Github, Gitlab, etc..). Para ello utilizaremos la primera vez el comando <code>git remote add &lt;name&gt; url_remota</code> donde la <em>url_remota</em> es la del repositorio remoto.</p> <p>Con el siguiente código creamos el enlace con el repositorio remotor y enviamos el <em>commit</em> que estemos revisando (lo normal es que sea el HEAD-&gt;master). Así que utilizaremos los siguientes comandos:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/Delphier007/markdown
<span class="token function">git</span> push -u origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="git-clone"><a href="#git-clone" class="header-anchor">#</a> git clone</h3> <p>Con este comando podemos clonar un repositorio remoto, por ejemplo, si lo hemos perdido o estamos en otra computadora. O clonar el repositorio público de otro programador. También se puede bajar un <code>.zip</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> clone https://github.com/Delphier007/markdown
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="git-push"><a href="#git-push" class="header-anchor">#</a> git push</h3> <p>Con el comando <code>git push origin nombre_rama</code> enviamos los cambios realizados al repositorio remoto. Si utilizamos <code>git push origin --all</code> subimos TODOS los cambios del repositorio.</p> <p>Añadir que con <code>git push origin :rama</code> eliminamos la rama del remoto, ya que con <code>git branch -d rama</code> se borra en local y al hacer <code>git push --all</code> no se borra dicha <strong>rama</strong> del repositorio. Si quisiéramos hacer <code>push</code> de una rama local en una rama remota con otro nombre (exista o no) haríamos: <code>git push origin rama:otra_rama</code>.</p> <h3 id="git-fetch"><a href="#git-fetch" class="header-anchor">#</a> git fetch</h3> <p>Este comando básicamente lo que hace es preguntar a un remoto si hay <em>novedades</em> en el remoto y descargarlas localmente.</p> <p>Si hay modificaciones lo que hará es descargar las modificaciones en el remoto dentro de la rama en la que estemos. Si es la rama <em>master</em> descargará la rama <em>origin/master</em>.</p> <p>Ahora si ejecutáramos <code>git merge orign/master</code> tendríamos el mismo resultado que si hubieramos hecho directamente <code>git pull origin master</code>.</p> <h3 id="git-pull"><a href="#git-pull" class="header-anchor">#</a> git pull</h3> <p>Comando que trae los cambios desde el repositorio remoto y los fusiona en el local. Realmente, es un comando que hace un <code>git fetch...</code> y luego un <code>git merge ...</code>.<br>
Se puede utilizar por ejemplo: <code>git pull origin</code> o <code>git pull origin master</code>.</p> <p>Cuando hay conflictos, y se resuelven por el método recursivo, tendremos que hacer un muevo commit que lo arregle pero aparecerá en el historial. Por eso, una buena forma de solucionarlo (a veces) es con <code>git pull --rebase</code>. El subcomando <em>--rebase</em> intenta rehacer el historial para ir &quot;mezclando&quot; los <em>commit</em> e intentar hacer una fusión organizada que no requiera un nuevo <em>commit</em> al haber conflictos.</p> <p>Más adelante, se trata del comando REBASE en produncidad.</p> <h2 id="deshaciendo-cambios"><a href="#deshaciendo-cambios" class="header-anchor">#</a> Deshaciendo cambios</h2> <h3 id="git-commit-amend"><a href="#git-commit-amend" class="header-anchor">#</a> git commit --amend</h3> <p>Ver apartado correspondiente en el comando <a href="#git-commit"><strong>COMMIT</strong></a>.</p> <h3 id="git-checkout-file"><a href="#git-checkout-file" class="header-anchor">#</a> git checkout -- file</h3> <p>Ver apartado en el comando <a href="#git-checkout"><strong>CHECKOUT</strong></a>.</p> <h3 id="git-reset"><a href="#git-reset" class="header-anchor">#</a> git reset</h3> <p>Con reset podemos deshacer cambios de varias formas. Se ha de tener en cuenta que <strong>son cambios destructivos!</strong>.</p> <p>Este comando es útil para deshacer cambios en <strong>local</strong>, pero es muy peligroso eliminar uno o varios <em>commit</em> del repositorio compartido, ya que pueden aparecer conflictos importantes con otros programadores. En ese caso es mucho mejor utilizar el comando <em><strong>revert</strong></em> que, al contario que <strong>reset</strong>, no es destructivo (genera un nuevo <em>commit</em> que podría ser revertido si fuese necesario.)</p> <ul><li><p>Podemos hacer un <em>unstage</em> de un archivo (devolverlo al <em>working directory</em>) para poder hacer, por ejemplo, un <code>git checkout -- file</code>, para ello debemos hacer previamente <code>git reset HEAD file</code>.</p></li> <li><p>GIT RESET (deshace el <em>commit</em> y conserva los cambios en los archivos y los quita del <em>staging area</em>): Si queremos revertir todo a un <em>commit</em> anterior (<strong>cuidado que es irreversible!</strong>), podemos utilizar el siguiente comando: <code>git reset hash</code>, donde <em>hash</em> es el identificador que nos da el log del <em>commit</em> al que queremos regresar. También podemos utilizar el mismo comando anterior pero utilizando los identificadores relativos <em>HEAD</em>. Por ejemplo: <code>git reset HEAD</code>. Con este comando lo que hacemos es <em>realmente</em> un <em>unstage</em> de los archivos modificados que estaban en el <em>staging area</em>. Si por ejemplo hacemos un <code>git reset HEAD~1</code> o <code>git reset HEAD~2</code> entonces devolvemos el <em>working area</em> al estado tras el penúltimo o antepenúltimo <em>commit</em> pero los archivos <strong>modificados</strong> posteriormente a dicho <em>commit de destino</em> siguen modificados y se sacan del <em>stage</em>. Si algún archivo se añadió por primera vez con <em>add</em> volverá a estar <em>untracked</em>.</p></li> <li><p>GIT RESET --soft: nos devuelve al <em>commit</em> indicado y <strong>no destruye</strong> los cambios realizados posteriormente, dejándolos en el <em>staging area</em>. Por ejemplo:</p></li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> reset --soft HEAD~1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>GIT RESET --hard: nos devuelve al <em>commit</em> indicado pero <strong>destruye</strong> los cambios realizados posteriormente (eliminando archivos creados despues de ese commit). <strong>Cuidado!</strong>. Por ejemplo:</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> reset --hard HEAD~1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Si nos arrepentimos seguidamente y no hemos limpiado la consola. Podemos hacer un <code>git checkout &lt;hash eliminado&gt;</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Picon@DELL MINGW64 /f/Programación/CURSOS/TypeScript <span class="token variable"><span class="token punctuation">((</span>a060db5...<span class="token punctuation">))</span></span>
$ <span class="token function">git</span> lod
a060db5 <span class="token punctuation">(</span>HEAD<span class="token punctuation">)</span> <span class="token function">git</span> de prueba para un reset
e73494f <span class="token punctuation">(</span>master<span class="token punctuation">)</span> Commit inicial para hacer luego una prueba <span class="token punctuation">(</span>hecha<span class="token punctuation">)</span>

/*------- TRAS ARREPENTIRNOS---------*/

Picon@DELL MINGW64 /f/Programación/CURSOS/TypeScript <span class="token variable"><span class="token punctuation">((</span>e73494f...<span class="token punctuation">))</span></span>
$ <span class="token function">git</span> checkout a060db5
Previous HEAD position was e73494f Commit inicial para hacer luego una prueba <span class="token punctuation">(</span>hecha<span class="token punctuation">)</span>
HEAD is now at a060db5 <span class="token function">git</span> de prueba para un reset
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Pero hay que tener CUIDADO. Ahora estamos como en una rama separada. El HEAD apunta a este commit fuera de master. Por tanto, ahora abría que hacer lo siguiente:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> checkout master
<span class="token function">git</span> merge a060db5 // Que es donde apunta ahora HEAD <span class="token punctuation">(</span> ya no aparece HEAD -<span class="token operator">&gt;</span> master, o HEAD-<span class="token operator">&gt;</span>nombre_rama<span class="token punctuation">)</span>. HEAD apunta al commit a060db5.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="git-revert"><a href="#git-revert" class="header-anchor">#</a> git revert</h3> <p>Con este comando podemos deshacer cambios de una forma más segura ya que no se pierden cambios al generar un nuevo commit sin eliminar los commit del historial.</p> <p><em>REVERT</em> se basa en que añade las líneas que se quitaron y quita las que se añadieron, por tanto devuelve al estado anterior pero sin eliminar el commit anterior (o anteriores).</p> <p><strong>Muy importante</strong>: para <em>revert</em> se indica el <em>commit</em> que se va a revertir, NO al que queremos ir. Es decir, para revertir el último <em>commit</em> se indica <code>git revert HEAD</code> o con su hash, pero no <em>HEAD~1</em> que es al estado que volveríamos pero en un nuevo <em>commit</em>.</p> <p>Para revertir el último commit haríamos lo siguiente:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> revert HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Ahora nos aparece la ventana para hacer un <em>commit</em> y lo deja todo listo.</p> <p>Evidentemente si hacemos un <code>git revert HEAD</code> dos veces estaremos en el misma situación pero con dos <em>commit</em> nuevos. Podríamos hacer un <code>git reset --hard HEAD~2</code> y los limpiaríamos (si no se han eviado al repositorio remoto que tendríamos que tener más cuidado).</p> <p>Para revertir más de un <em>commit</em> se haría de la siguiente forma. En este ejemplo vamos a revertir de una vez los 2 últimos <em>commit</em> pero queremos que haga un solo <em>commit</em> al revertir.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> revert --no-commit HEAD
<span class="token function">git</span> revert --no-commit HEAD~1
<span class="token function">git</span> status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Tras estos comandos nos puede aparecer algo similar a esto:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>On branch master
Your branch is based on <span class="token string">'origin/master'</span>, but the upstream is gone.
  <span class="token punctuation">(</span>use <span class="token string">&quot;git branch --unset-upstream&quot;</span> to fixup<span class="token punctuation">)</span>

You are currently reverting commit 305af64.
  <span class="token punctuation">(</span>all conflicts fixed: run <span class="token string">&quot;git revert --continue&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">&quot;git revert --abort&quot;</span> to cancel the revert operation<span class="token punctuation">)</span>

Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

        modified:   index.html
        deleted:    styles.css
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Si queremos abortar harímos <code>git revert --abort</code>, y en caso de querer confirmar los cambios ejecutaríamos  <code>git revert --continue</code> y aparece la ventana para hacer el <em>commit</em>.</p> <h2 id="rehaciendo-la-historia"><a href="#rehaciendo-la-historia" class="header-anchor">#</a> Rehaciendo la historia</h2> <h3 id="git-rebase"><a href="#git-rebase" class="header-anchor">#</a> git rebase</h3> <p>Antes de nada, no es recomendable hacer <em>rebase</em> de <em>commit</em> de los que ya hayamos hecho <em>push</em> (ya estén en el servidor). Sobre todo, si estás trabajando con otras personas.</p> <p>Si haces <code>git pull repositorio --rebase</code> la historia se <em>sobreescribe</em> en el local pero sobre el historial que ya está en el repositorio (no le afecta a otros programadores).</p> <p>Ahora bien, si hago <em>push</em> de los últimos <em>commit</em> y <strong>luego</strong>, cuando otros programadores han bajado esos cambios, hago un <em>rebase</em> de esos <em>commit</em> y los reescribo... Se puede liar parda!</p> <p>Si tengo varios <em>commit</em> y quiero fusionarlos en uno para limpiar el historial con <code>git rebase -i</code>  (rebase interactivo), siempre sobre trabajo que no se ha subido al repositorio remoto. Eso es lo que aconsejan. Si trabajas solo, todo esto importa poco.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> rebase -i HEAD~4 // se coloca justo antes de los últimos <span class="token number">4</span> que quiero fusionar/aplastar/reordenar<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guia/css.html" class="prev">CSS</a></span> <span class="next"><a href="/guia/markdown.html">MARKDWON</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0b9b09ce.js" defer></script><script src="/assets/js/2.667ce541.js" defer></script><script src="/assets/js/9.61cbd835.js" defer></script>
  </body>
</html>
